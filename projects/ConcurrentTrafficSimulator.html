<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="Concurrent Traffic Simulator | Caleb Mueller | Professional Portfolio">
    <meta name="description" content="">
    <meta name="image" content="https://github.com/CalebMueller-UH.png">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Caleb Mueller | Professional Portfolio">
    <meta property="og:url" content="https://CalebMueller-UH.github.io/projects/ConcurrentTrafficSimulator.html">
    <meta property="og:title" content="Concurrent Traffic Simulator | Caleb Mueller | Professional Portfolio">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://github.com/CalebMueller-UH.png">
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/techfolio-theme/greyAndSlate.css">
    <link rel="stylesheet" type="text/css" href="/css/rouge/github.css">
    <!-- Load MathJax if 'mathjax: true' is found in your _config.yml. -->
    
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
    </script>
    

    <title>Concurrent Traffic Simulator | Caleb Mueller | Professional Portfolio</title>
  </head>
  <body>
  <header class="navbar navbar-expand navbar-light bg-light bg-gradient border-bottom">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Caleb Mueller</a>
    <div class="ms-auto">
      <ul class="navbar-nav mb-2 mb-lg-0">
        <a class="nav-link" href="/#projects">Projects</a>
        <a class="nav-link" href="/#essays">Essays</a>
        <a class="nav-link" href="/resume.html">Resume</a>
      </ul>
    </div>
  </div>
</header>
<div class="container py-4">

  <body class="project-page">
    <h1 class="display-4">Concurrent Traffic Simulator</h1>
    <p><img width="450px" class="rounded float-start pe-4" src="/img/projectPics/traffic_sim.gif" /></p>

<h2 id="overview">Overview</h2>
<p>The Concurrent Traffic Simulation project is the fourth project in the Udacity C++ nanodegree program, which deals with concurrency. The goal of the project is to create a traffic simulation that features vehicles moving along streets and crossing intersections, complete with modeled traffic lights at said intersections. This project uses thread-safe communication protocols between vehicles and intersections to run the simulation concurrently and makes use of CMake, Make, OpenCV, GCC/G++, mutexes, locks, and message queues to accomplish this.</p>

<h4 id="building-up-the-trafficobject-framework">Building up the TrafficObject Framework</h4>
<p>The project is divided into several tasks, starting with Task FP.1, which defines a class TrafficLight that is a child class of TrafficObject. The class has the public methods void waitForGreen() and void simulate() as well as TrafficLightPhase getCurrentPhase(), where TrafficLightPhase is an enum that can be either red or green. The class also includes a private method void cycleThroughPhases() and a private member _currentPhase which can take red or green as its value.</p>

<h4 id="modeling-traffic-light-behavior">Modeling Traffic Light Behavior</h4>
<p>Task FP.2 implements an infinite loop that measures the time between two loop cycles and toggles the current phase of the traffic light between red and green, and sends an update method to the message queue using move semantics. The cycle duration is a random value between 4 and 6 seconds, and the while-loop uses std::this_thread::sleep_for to wait 1ms between two cycles. The private method cycleThroughPhases is started in a thread when the public method simulate is called, using the thread queue in the base class.</p>

<h4 id="messagequeues">MessageQueues</h4>
<p>Task FP.3 defines a class MessageQueue which has the public methods send and receive. Send takes an rvalue reference of type TrafficLightPhase, whereas receive returns this type. The class also defines an std::dequeue called _queue, which stores objects of type TrafficLightPhase, as well as an std::condition_variable and an std::mutex as private members.</p>

<h4 id="mutex-functionality--move-semantics">Mutex Functionality &amp; Move Semantics</h4>
<p>Task FP.4 implements the method Send, which uses the mechanisms std::lock_guard&lt;std::mutex&gt; as well as _condition.notify_one() to add a new message to the queue and sends a notification. In class TrafficLight, it creates a private member of type MessageQueue for messages of type TrafficLightPhase and uses it within the infinite loop to push each new TrafficLightPhase into it by calling send in conjunction with move semantics.</p>

<h4 id="inter-process-coordination--asynchronous-task-execution">Inter-process Coordination &amp; Asynchronous Task Execution</h4>
<p>Task FP.5, the method receive uses std::unique_lockstd::mutex and _condition.wait() to wait for and receive new messages and pull them from the queue using move semantics. The received object is then returned by the receive function. Then, it adds the implementation of the method waitForGreen, in which an infinite while-loop runs and repeatedly calls the receive function on the message queue. Once it receives TrafficLightPhase::green, the method returns.</p>

<h4 id="bringing-it-all-together">Bringing it all Together</h4>
<p>Finally, Task FP.6, In class Intersection, adds a private member _trafficLight of type TrafficLight. In method Intersection::simulate(), it starts the simulation of _trafficLight. In method Intersection::addVehicleToQueue, it uses the methods TrafficLight::getCurrentPhase and TrafficLight::waitForGreen to block the execution until the traffic light turns green.</p>

<h4 id="in-conclusion">In Conclusion</h4>
<p>The Concurrent Traffic Simulation project demonstrates a solid understanding of concurrency programming techniques and their practical application. By using thread-safe communication protocols, CMake, Make, OpenCV, GCC/G++, mutexes, locks, and message queues, we were able to create a realistic traffic simulation that features vehicles moving along streets and crossing intersections, complete with modeled traffic lights. The project was divided into several tasks, starting with building the TrafficObject Framework and modeling traffic light behavior, and progressing to implementing message queues, mutex functionality, and inter-process coordination. The final implementation of the project was able to simulate the traffic light behavior and the vehicleâ€™s movement concurrently and asynchronously. This project is a great example of how concurrency can be used in real-world applications and it has been a valuable learning experience.</p>

<p><a href="https://github.com/CalebMueller/Udacity-C-Nanodegree--Concurrent-Traffic-Simulation">Link to Github Project Page</a></p>

  </body>
</div>
<footer class="navbar navbar-expand navbar-light bg-light bg-gradient border-top">
  <div class="container-fluid">
    <div class="ms-auto">
      <ul class="navbar-nav mb-2 mb-lg-0">
        <small><a class="nav-link" href="https://techfolios.github.io">Made with Techfolios</a></small>
      </ul>
    </div>
  </div>
</footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
  </body>
</html>
